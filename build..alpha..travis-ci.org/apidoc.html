<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://github.com/travist/jquery.go.js"

    >jquerygo (v0.0.16)</a>
</h1>
<h4>A node.js package to test and automate the web using jQuery with PhantomJS.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jquerygo">module jquerygo</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jquerygo.</span>viewportSizeSet</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.jquerygo">
            function <span class="apidocSignatureSpan"></span>jquerygo
            <span class="apidocSignatureSpan">(selector, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.capture">
            function <span class="apidocSignatureSpan">jquerygo.</span>capture
            <span class="apidocSignatureSpan">(filename, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.close">
            function <span class="apidocSignatureSpan">jquerygo.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.debug">
            function <span class="apidocSignatureSpan">jquerygo.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.getPage">
            function <span class="apidocSignatureSpan">jquerygo.</span>getPage
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.go">
            function <span class="apidocSignatureSpan">jquerygo.</span>go
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.print">
            function <span class="apidocSignatureSpan">jquerygo.</span>print
            <span class="apidocSignatureSpan">(text, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.uploadFile">
            function <span class="apidocSignatureSpan">jquerygo.</span>uploadFile
            <span class="apidocSignatureSpan">(selector, filename, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.visit">
            function <span class="apidocSignatureSpan">jquerygo.</span>visit
            <span class="apidocSignatureSpan">(url, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.wait">
            function <span class="apidocSignatureSpan">jquerygo.</span>wait
            <span class="apidocSignatureSpan">(time, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.waitForElement">
            function <span class="apidocSignatureSpan">jquerygo.</span>waitForElement
            <span class="apidocSignatureSpan">(element, callback, nowait)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jquerygo.waitForPage">
            function <span class="apidocSignatureSpan">jquerygo.</span>waitForPage
            <span class="apidocSignatureSpan">(callback, nowait)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jquerygo.</span>config</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jquerygo" id="apidoc.module.jquerygo">module jquerygo</a></h1>




    <h2>
        <a href="#apidoc.element.jquerygo.jquerygo" id="apidoc.element.jquerygo.jquerygo">
        function <span class="apidocSignatureSpan"></span>jquerygo
        <span class="apidocSignatureSpan">(selector, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">jquerygo = function (selector, context) {

  // If this already is a jQueryInterface.
  if (typeof selector === &#x27;object&#x27;) {
    return selector;
  }
  else {
    // Return a new jQuery Interface.
    return new jQueryInterface(selector, context);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.capture" id="apidoc.element.jquerygo.capture">
        function <span class="apidocSignatureSpan">jquerygo.</span>capture
        <span class="apidocSignatureSpan">(filename, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capture = function (filename, done) {
  this.debug(&#x27;Capturing page at &#x27; + filename);
  getPage(function(page) {
    page.render(filename, done);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
---------------------------------------------
This library also allows you to take a screen capture during your testing and
automation.  This can be done using the ```$.capture``` method. You can also
use this along with ```__dirname``` to take a screen shot within the directory
that your automation script resides.

```javascript
$.<span class="apidocCodeKeywordSpan">capture</span>(__dirname + &#x27;/screenshot.png&#x27;);
```

Additional API&#x27;s
---------------------------------------------
There are also some added API&#x27;s that make your testing and automation easier.
They are as follows.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.close" id="apidoc.element.jquerygo.close">
        function <span class="apidocSignatureSpan">jquerygo.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {

  // Close the phantom browser instance.
  if (instance) {
    this.debug(&#x27;Closing&#x27;);
    instance.exit();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Visit the user path and log in.
$.visit(&#x27;http://localhost:8888/user&#x27;, function() {

  // Get the title.
  $(&#x27;h1&#x27;).text(function(text) {
    console.log(text);
    $.<span class="apidocCodeKeywordSpan">close</span>();
  });
});
```

To set the text of an element on the page, you still add your arguments after
text, but just include the callback to know when it is done..
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.debug" id="apidoc.element.jquerygo.debug">
        function <span class="apidocSignatureSpan">jquerygo.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
  if (this.config.debug) {
    console.log(msg);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set the page size if it hasn&#x27;t already been set.
if (!self.viewportSizeSet) {
  self.viewportSizeSet = true;
  page.set(&#x27;viewportSize&#x27;, {
    width: self.config.width,
    height: self.config.height
  }, function (result) {
    self.<span class="apidocCodeKeywordSpan">debug</span>(&#x22;Viewport set to: &#x22; + result.width + &#x22;x&#x22; + result.
height);
  });
}

// Open the page.
self.debug(&#x27;Navigating to &#x27; + self.config.site + url);
page.open(self.config.site + url, function(status) {
  if (status == &#x27;fail&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.getPage" id="apidoc.element.jquerygo.getPage">
        function <span class="apidocSignatureSpan">jquerygo.</span>getPage
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPage = function (callback) {
  if (page) {
    callback(page);
  }
  else {
    pageQueue.push(callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  - callback:  Called when the page is returned.


```javascript
var $ = require(&#x27;../lib/jquery.go.js&#x27;);
$.visit(&#x27;https://www.google.com&#x27;, function(){
$.waitForPage(function(){
  $.<span class="apidocCodeKeywordSpan">getPage</span>(function(page) {
    page.evaluate(function(args) {

      // Just return the passed in params.
      return args.hello;
    }, function(err, retVal) {

      // Called when you return from the evaluation.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.go" id="apidoc.element.jquerygo.go">
        function <span class="apidocSignatureSpan">jquerygo.</span>go
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">go = function () {
  var self = this, show = false;

  // Get the arguments.
  var args = _.values(arguments);

  // See if we should print the command...
  if (typeof args[0] === &#x27;boolean&#x27;) {
    show = args.shift();
  }

  // Get the method.
  var method = args.shift();

  // Return the async.js signature.
  return function(done) {
    var value = null, i=0;

    // Iterate through each of the arguments.
    async.eachSeries(args, function(arg, done) {

      // If the argument is a function.
      if (typeof arg === &#x27;function&#x27;) {

        // Closure around the index...
        (function(index) {

          // Get the value returned from the function.
          value = arg.call(self, function(val) {

            // Set the argument and say we are done.
            args[index] = val;
            done();
          });

          // If they return a value, then say we are done.
          if (value !== undefined) {

            // Set the argument and say we are done.
            args[index] = value;
            done();
          }
        })(i++);
      }
      else {
        i++;
        done();
      }
    }, function(error) {

      // If they wish to show the methods, then log to console.
      if (show) {
        console.log(method + &#x27;(&#x27; + args.join(&#x27;, &#x27;) + &#x27;)&#x27;);
      }

      // Add the done function
      args.push(function() {
        done();
      });

      // Apply the method with arguments.
      self[method].apply(self, args);
    });
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Add some default configs.
$.config.site = &#x27;http://localhost:8888&#x27;;
$.config.addJQuery = false;

// Using the async.series with jQuery.go.
async.series([
  $.<span class="apidocCodeKeywordSpan">go</span>(&#x27;visit&#x27;, &#x27;/user&#x27;),
  $(&#x27;#edit-name&#x27;).go(&#x27;val&#x27;, &#x27;admin&#x27;),
  $(&#x27;#edit-pass&#x27;).go(&#x27;val&#x27;, &#x27;123testing&#x27;),
  $(&#x27;#edit-submit&#x27;).go(&#x27;click&#x27;),
  $.go(&#x27;waitForPage&#x27;),
  function(done) {

// Make sure that the logout link is shown.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.print" id="apidoc.element.jquerygo.print">
        function <span class="apidocSignatureSpan">jquerygo.</span>print
        <span class="apidocSignatureSpan">(text, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">print = function (text, done) {
  console.log(text);
  done();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.uploadFile" id="apidoc.element.jquerygo.uploadFile">
        function <span class="apidocSignatureSpan">jquerygo.</span>uploadFile
        <span class="apidocSignatureSpan">(selector, filename, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadFile = function (selector, filename, done) {
  self.debug(&#x27;Upload file to &#x27; + selector);
  getPage(function(page) {
    page.uploadFile(selector, filename, done);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Upload File to a Form.
 */
uploadFile: function(selector, filename, done) {
  self.debug(&#x27;Upload file to &#x27; + selector);
  getPage(function(page) {
    page.<span class="apidocCodeKeywordSpan">uploadFile</span>(selector, filename, done);
  });
},

/**
 * Close the phantom browser.
 * @returns {undefined}
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.visit" id="apidoc.element.jquerygo.visit">
        function <span class="apidocSignatureSpan">jquerygo.</span>visit
        <span class="apidocSignatureSpan">(url, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visit = function (url, callback) {
  var self = this;
  getPage(function(page) {

    // Set the page size if it hasn&#x27;t already been set.
    if (!self.viewportSizeSet) {
      self.viewportSizeSet = true;
      page.set(&#x27;viewportSize&#x27;, {
        width: self.config.width,
        height: self.config.height
      }, function (result) {
        self.debug(&#x22;Viewport set to: &#x22; + result.width + &#x22;x&#x22; + result.height);
      });
    }

    // Open the page.
    self.debug(&#x27;Navigating to &#x27; + self.config.site + url);
    page.open(self.config.site + url, function(status) {
      if (status == &#x27;fail&#x27;) {
        self.close();
        process.exit();
        return;
      }
      if (self.config.addJQuery) {
        var loadJS = function() {
          if (loading) {
            setTimeout(loadJS, 100);
          }
          else {
            page.includeJs(self.config.jQuery, callback);
          }
        }
        loadJS();
      }
      else {
        self.waitForPage(callback);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
done so asynchronously.  For example, to get the text of an element on the page,
you would use the following code.

```javascript
var $ = require(&#x27;jquerygo&#x27;);

// Visit the user path and log in.
$.<span class="apidocCodeKeywordSpan">visit</span>(&#x27;http://localhost:8888/user&#x27;, function() {

  // Get the title.
  $(&#x27;h1&#x27;).text(function(text) {
    console.log(text);
    $.close();
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.wait" id="apidoc.element.jquerygo.wait">
        function <span class="apidocSignatureSpan">jquerygo.</span>wait
        <span class="apidocSignatureSpan">(time, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wait = function (time, done) {
  var self = this;
  setTimeout(function() {
    done.call(self);
  }, time);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.waitForElement" id="apidoc.element.jquerygo.waitForElement">
        function <span class="apidocSignatureSpan">jquerygo.</span>waitForElement
        <span class="apidocSignatureSpan">(element, callback, nowait)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForElement = function (element, callback, nowait) {
  var self = this;
  if (!nowait) {
    this.waitForPage(function() {
      self.waitForElement(element, callback, true);
    });
  }
  else {
    var loadWait = function() {
      setTimeout(function() {
        self.waitForElement(element, callback, true);
      }, 100);
    };
    if (nowait) {
      getPage(function(page) {
        page.evaluate(function(element) {
          var element = jQuery(element);
          return ((element.length &#x3e; 0) &#x26;&#x26; element.is(&#x27;:visible&#x27;));
        }, function(found) {
          if (found) {
            self.debug(&#x27;Element &#x27; + element + &#x27; found&#x27;);
            callback.call(self);
          }
          else {
            loadWait();
          }
        }, element);
      });
    }
    else {
      loadWait();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Waits for an element to be present.
 */
waitForElement: function(element, callback, nowait) {
  var self = this;
  if (!nowait) {
    this.waitForPage(function() {
      self.<span class="apidocCodeKeywordSpan">waitForElement</span>(element, callback, true);
    });
  }
  else {
    var loadWait = function() {
      setTimeout(function() {
        self.waitForElement(element, callback, true);
      }, 100);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jquerygo.waitForPage" id="apidoc.element.jquerygo.waitForPage">
        function <span class="apidocSignatureSpan">jquerygo.</span>waitForPage
        <span class="apidocSignatureSpan">(callback, nowait)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForPage = function (callback, nowait) {
  var self = this;
  var loadWait = function() {
    setTimeout(function() {
      self.waitForPage(callback, true);
    }, 100);
  };
  if (nowait) {
    if (loading) {
      loadWait();
    }
    else {
      getPage(function(page) {
        page.evaluate(function() {
          return jQuery.isReady;
        }, function(ready) {
          if (ready) {
            callback.call(self);
          }
          else {
            loadWait();
          }
        });
      });
    }
  }
  else {
    loadWait();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Add some default configs.
$.config.site = &#x27;http://www.whitehouse.gov&#x27;;
$.config.addJQuery = false;

// Go to the presidents page.
$.visit(&#x27;/about/presidents&#x27;, function() {
$.<span class="apidocCodeKeywordSpan">waitForPage</span>(function() {

  // Iterate through each span.field-content.
  $(&#x27;span.field-content&#x27;).each(function(index, element, done) {

    // Get the text of this element.
    element.text(function(name) {
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
